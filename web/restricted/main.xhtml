<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/WEB-INF/pageTemplate.xhtml"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    
    <ui:define name="title">iCOMIC2S</ui:define>
    <ui:define name="content">
    <h:form>
    <p:accordionPanel>
        <p:tab id="array" title="Array Data" titleStyleClass="tab-title">
            <h:panelGrid cellpadding="1">
                <p:commandLink action="#{menuSelectionBean.setupPlConfigPageURL}"
                               value="#{msg['gex-illumina']}" 
                               styleClass="mainmenuitem" oncomplete="PF('dlg').show()">
                    <f:setPropertyActionListener target="#{menuSelectionBean.plName}" 
                                                 value="gex-illumina"/>
                </p:commandLink>
                <p:commandLink action="#{menuSelectionBean.setupPlConfigPageURL}" 
                               value="#{msg['gex-affymetrix']}" 
                               styleClass="mainmenuitem" oncomplete="PF('dlg').show()">
                    <f:setPropertyActionListener target="#{menuSelectionBean.plName}" 
                                                 value="gex-affymetrix"/>
                </p:commandLink>
                <p:commandLink action="#{menuSelectionBean.setupPlConfigPageURL}" 
                               value="#{msg['meth-pipeline']}" 
                               styleClass="mainmenuitem" oncomplete="PF('dlg').show()">
                    <f:setPropertyActionListener target="#{menuSelectionBean.plName}" 
                                                 value="meth-pipeline"/>
                </p:commandLink>
                <p:commandLink action="#{menuSelectionBean.setupPlConfigPageURL}" 
                               value="#{msg['cnv-pipeline']}" 
                               styleClass="mainmenuitem" oncomplete="PF('dlg').show()">
                    <f:setPropertyActionListener target="#{menuSelectionBean.plName}" 
                                                 value="cnv-pipeline"/>
                </p:commandLink>
            </h:panelGrid>
        </p:tab>
            
        <p:tab id="ngs" title="NGS Data" titleStyleClass="tab-title">
            <h:panelGrid>
                <h:commandLink action="#{menuSelectionBean.ngsPipeline}" 
                               value="#{msg['rnaseq-pipeline']}" styleClass="mainmenuitem"/>
                <h:commandLink action="#{menuSelectionBean.ngsPipeline}" 
                               value="#{msg['dnaseq-pipeline']}" styleClass="mainmenuitem"/>
                <h:commandLink action="#{menuSelectionBean.ngsPipeline}" 
                               value="#{msg['chipseq-pipeline']}" styleClass="mainmenuitem"/>
            </h:panelGrid>
        </p:tab>
            
        <p:tab id="proteome" rendered="false" title="Proteome Data" titleStyleClass="tab-title">
            <h:panelGrid cellpadding="1">
                <p:commandLink value="Proteome Pipeline 1" styleClass="mainmenuitem"/>
                <p:commandLink value="Proteome Pipeline 2" styleClass="mainmenuitem"/>
            </h:panelGrid>
        </p:tab>
            
        <p:tab id="imaging" rendered="false" title="Imaging Data" titleStyleClass="tab-title">
            <h:panelGrid cellpadding="1">
                <p:commandLink value="Imaging Pipeline 1" styleClass="mainmenuitem"/>
            </h:panelGrid>
        </p:tab>
            
        <p:tab id="pathlogy" title="Clinical Pathlogy Data" 
               titleStyleClass="tab-title">
            <h:outputLink title="Upload or edit clinical data" 
                          value="clinicaldatamanagement.xhtml" 
                          styleClass="mainmenuitem">
                Clinical Data Management
            </h:outputLink>
        </p:tab>
            
        <p:tab id="job" title="My Work Area" titleStyleClass="tab-title">
            <h:panelGrid cellpadding="1">
                <h:commandLink title="View my job submission status" 
                               value="Job Status" 
                               action="#{menuSelectionBean.userJobStatus}" 
                               styleClass="mainmenuitem"/>
                <h:outputLink title="Finalize Study" value="finalizestudy.xhtml" 
                              styleClass="mainmenuitem">
                    Finalize Study
                </h:outputLink>
                <h:outputLink title="Download consolidated output and summary report" 
                              value="summaryofstudy.xhtml" styleClass="mainmenuitem">
                    Summary of Study
                </h:outputLink>
            </h:panelGrid>
        </p:tab>
    </p:accordionPanel>
    </h:form>
        
    <p:dialog modal="true" header="Select Study to work on" 
              widgetVar="dlg" resizable="false">
        <h:form>
            <h:panelGrid columns="2">
            <p:selectOneMenu id="studyID" value="#{menuSelectionBean.study_id}">
                <f:selectItem itemLabel="Select Study" itemValue=""/>
                <f:selectItems value="#{menuSelectionBean.studyList}"/>
                <p:ajax update="selPanel"/>
            </p:selectOneMenu><h:panelGroup/>
            <h:outputText value="New data to upload?"/>
            <p:selectBooleanButton id="newdatastatus" 
                                   value="#{menuSelectionBean.haveNewData}" 
                                   onLabel="Yes" offLabel="No"/>
            </h:panelGrid>
            <p:separator styleClass="configsep"/>
            
            <h:panelGrid id="selPanel" columns="2" cellspacing="2" cellpadding="2">
                <p:commandButton value="Cancel" oncomplete="PF('dlg').hide()" 
                                 action="#{menuSelectionBean.backToMainMenu}"/>
                <p:commandButton value="Proceed" 
                                 rendered="#{menuSelectionBean.studySelectedStatus}" 
                                 action="#{menuSelectionBean.proceedToConfig}"/>
            </h:panelGrid>
        </h:form>
    </p:dialog>
    </ui:define>
</ui:composition>
